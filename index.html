<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mercadinho EsperanÃ§a</title>

<style>
  :root{
    --bg:#050814;
    --panel:#0f172a;
    --panel2:#111a2e;
    --border:rgba(255,255,255,.10);
    --muted:#cbd5e1;

    /* parecido com varejo grande */
    --red:#d81f26;
    --red2:#b30d13;

    /* identidade do mercadinho */
    --green:#22c55e;
    --green2:#16a34a;

    --text:#f3f4f6;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    color:var(--text);
    background:
      radial-gradient(900px 500px at 10% -10%, rgba(216,31,38,.35), transparent 60%),
      radial-gradient(900px 500px at 90% -10%, rgba(34,197,94,.22), transparent 60%),
      linear-gradient(180deg, var(--bg), #071024 40%, var(--bg));
    -webkit-tap-highlight-color: transparent;
  }

  @keyframes drop{from{transform:translateY(-18px);opacity:0}to{transform:translateY(0);opacity:1}}
  @keyframes up{from{transform:translateY(14px);opacity:0}to{transform:translateY(0);opacity:1}}
  @keyframes pop{0%,100%{transform:scale(1)}50%{transform:scale(1.04)}}
  @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
  @keyframes shine{0%{transform:translateX(-120%)}100%{transform:translateX(220%)}}

  .wrap{max-width:1400px;margin:0 auto;padding:0 14px}

  /* ===== TOP BAR (vermelho) ===== */
  .topbar{
    background: linear-gradient(135deg, var(--red), var(--red2));
    box-shadow:0 12px 35px rgba(0,0,0,.45);
    position:sticky; top:0; z-index:100;
    animation: drop .45s ease;
  }
  .top-row{
    display:flex;gap:14px;align-items:center;
    padding:12px 0;
  }

  .brand{
    display:flex;gap:12px;align-items:center;
    min-width:280px;
  }
  .logo{
    width:58px;height:58px;
    filter: drop-shadow(0 12px 18px rgba(0,0,0,.35));
    animation: pop 3s ease-in-out infinite;
  }
  .brand h1{margin:0;font-size:18px;line-height:1.1}
  .brand small{display:block;color:#ffe7e7;font-size:12px;margin-top:2px;opacity:.95}

  .search{
    flex:1;
    display:flex;gap:10px;align-items:center;
  }
  .search input{
    width:100%;
    border:none;
    padding:12px 14px;
    border-radius:14px;
    outline:none;
    font-size:16px; /* melhor no mobile */
  }
  .search button{
    border:none;
    cursor:pointer;
    padding:12px 16px;
    border-radius:14px;
    font-weight:bold;
    background:#111827;
    color:#fff;
    transition:.2s;
    white-space:nowrap;
    font-size:16px; /* melhor no mobile */
  }
  .search button:hover{transform:translateY(-2px)}

  .top-actions{display:flex;gap:10px;align-items:center}
  .pill{
    display:flex;gap:10px;align-items:flex-start;
    background: rgba(0,0,0,.25);
    border:1px solid rgba(255,255,255,.18);
    padding:10px 12px;
    border-radius:14px;
    font-size:12px;
    white-space:nowrap;
    position:relative;
    overflow:hidden;
  }
  .pill::after{
    content:"";
    position:absolute;top:0;left:0;height:100%;width:35%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
    transform:translateX(-120%);
    animation: shine 5s linear infinite;
  }
  .status{
    font-weight:bold;
    padding:7px 10px;border-radius:999px;
    background: rgba(0,0,0,.3);
    border:1px solid rgba(255,255,255,.18);
  }
  .open{color:#bbf7d0;border-color:rgba(34,197,94,.45)}
  .closed{color:#fee2e2;border-color:rgba(239,68,68,.45)}
  .tiny{font-size:11px;color:#ffe7e7;opacity:.95;margin-top:2px}

  /* ===== CARRINHO VISUAL ===== */
  .cart{
    position:relative;
    display:flex;align-items:center;gap:10px;
    padding:10px 12px;border-radius:14px;
    border:1px solid rgba(255,255,255,.18);
    background: rgba(0,0,0,.25);
    cursor:pointer;
    transition:.2s;
    user-select:none;
  }
  .cart:hover{transform:translateY(-2px)}
  .cart-ic{
    width:34px;height:34px;border-radius:12px;
    display:grid;place-items:center;
    background: rgba(34,197,94,.22);
    border:1px solid rgba(255,255,255,.14);
    font-size:18px;
  }
  .badge{
    position:absolute;top:-7px;right:-7px;
    background: var(--green);
    color:#022c22;
    font-weight:bold;
    border-radius:999px;
    padding:4px 8px;
    font-size:11px;
    border:2px solid rgba(0,0,0,.25);
  }

  /* ===== MENU DEPARTAMENTOS + SUBMENU ===== */
  .menu{
    background: rgba(17,24,39,.35);
    border-top:1px solid rgba(255,255,255,.10);
    border-bottom:1px solid rgba(255,255,255,.10);
  }
  .menu-row{
    display:flex;gap:10px;flex-wrap:wrap;
    padding:10px 0;
    align-items:center;
  }
  .dept{
    display:flex;gap:10px;align-items:center;
    padding:10px 12px;border-radius:14px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(15,23,42,.60);
    cursor:pointer;
    transition:.2s;
    user-select:none;
  }
  .dept:hover{transform:translateY(-2px);border-color:rgba(34,197,94,.35)}
  .dept.active{
    background: rgba(34,197,94,.14);
    border-color: rgba(34,197,94,.55);
  }
  .dept .ic{
    width:28px;height:28px;border-radius:10px;
    display:grid;place-items:center;
    background: rgba(216,31,38,.20);
    border:1px solid rgba(255,255,255,.10);
    font-size:16px;
  }
  .dept span{font-size:13px}

  .submenu{
    display:none;
    padding:10px 0 14px;
    border-top:1px solid rgba(255,255,255,.08);
    animation: up .25s ease;
  }
  .submenu.show{display:block}
  .subrow{
    display:flex;gap:10px;flex-wrap:wrap;
  }
  .sub{
    padding:9px 12px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(15,23,42,.65);
    cursor:pointer;
    transition:.2s;
    font-size:12px;
    color:var(--text);
    user-select:none;
  }
  .sub:hover{transform:translateY(-2px);border-color:rgba(34,197,94,.35)}
  .sub.active{
    background: rgba(34,197,94,.18);
    border-color: rgba(34,197,94,.50);
    color:#eafff2;
  }

  /* ===== LAYOUT PRINCIPAL ===== */
  .main{
    display:grid;
    grid-template-columns: 260px 1fr;
    gap:16px;
    margin-top:16px;
    align-items:start;
  }

  /* SIDEBAR */
  .sidebar{
    background: rgba(15,23,42,.75);
    border:1px solid rgba(255,255,255,.10);
    border-radius:18px;
    overflow:hidden;
    animation: up .45s ease;
  }
  .side-header{
    padding:14px;
    font-weight:bold;
    background: linear-gradient(135deg, rgba(216,31,38,.32), rgba(34,197,94,.18));
    border-bottom:1px solid rgba(255,255,255,.10);
  }
  .side-block{padding:12px 12px 14px;border-bottom:1px solid rgba(255,255,255,.08)}
  .side-block:last-child{border-bottom:none}
  .side-title{font-weight:bold;margin:0 0 10px;font-size:13px}
  .side-item{
    display:flex;gap:10px;align-items:center;
    padding:10px;border-radius:14px;
    border:1px solid transparent;
    cursor:pointer;
    transition:.2s;
  }
  .side-item:hover{background:rgba(255,255,255,.05);border-color:rgba(34,197,94,.25);transform:translateY(-2px)}
  .side-ic{
    width:34px;height:34px;border-radius:12px;
    display:grid;place-items:center;
    background: rgba(216,31,38,.18);
    border:1px solid rgba(255,255,255,.10);
  }
  .side-item b{font-size:13px}
  .side-item small{display:block;color:var(--muted);font-size:11px;margin-top:2px}

  /* CONTEÃšDO */
  .content{display:flex;flex-direction:column;gap:16px;animation: up .45s ease}

  /* ===== CARROSSEL ===== */
  .carousel{
    border-radius:18px;
    border:1px solid rgba(255,255,255,.10);
    overflow:hidden;
    background: rgba(15,23,42,.70);
    box-shadow:0 12px 30px rgba(0,0,0,.35);
    position:relative;
    min-height:190px;
  }
  .slides{
    display:flex;
    transition:transform .55s ease;
    width:100%;
  }
  .slide{
    min-width:100%;
    padding:18px;
    position:relative;
    overflow:hidden;
  }
  .slide::before{
    content:"";
    position:absolute;inset:-60px;
    background:
      radial-gradient(700px 260px at 18% 28%, rgba(34,197,94,.22), transparent 60%),
      radial-gradient(650px 280px at 80% 0%, rgba(216,31,38,.25), transparent 60%),
      linear-gradient(135deg, rgba(15,23,42,.88), rgba(2,44,34,.55));
    filter:saturate(1.15);
    transform:rotate(-2deg);
  }
  .slide .inner{
    position:relative;
    display:flex;
    align-items:flex-end;
    justify-content:space-between;
    gap:18px;
    min-height:160px;
  }
  .tag{
    display:inline-flex;align-items:center;gap:8px;
    background: rgba(216,31,38,.92);
    padding:7px 10px;border-radius:999px;
    font-size:12px;font-weight:bold;
  }
  .tag.green{background: rgba(34,197,94,.95); color:#022c22;}
  .slide h2{margin:10px 0 6px;font-size:22px}
  .slide p{margin:0;color:var(--muted);font-size:13px;line-height:1.35}
  .cta{
    margin-top:10px;
    display:inline-flex;align-items:center;gap:8px;
    background:#111827;
    border:1px solid rgba(255,255,255,.12);
    color:#fff;
    padding:10px 12px;border-radius:14px;
    font-weight:bold;font-size:13px;
    cursor:pointer;
    user-select:none;
  }
  .nav{
    position:absolute;inset:0;
    display:flex;align-items:center;justify-content:space-between;
    pointer-events:none;
    padding:0 10px;
  }
  .nav button{
    pointer-events:auto;
    border:none;
    width:44px;height:44px;border-radius:14px;
    background: rgba(0,0,0,.35);
    border:1px solid rgba(255,255,255,.14);
    color:#fff;
    cursor:pointer;
    transition:.2s;
  }
  .nav button:hover{transform:translateY(-2px);background: rgba(0,0,0,.50)}
  .dots{
    position:absolute;left:0;right:0;bottom:10px;
    display:flex;gap:8px;justify-content:center;
  }
  .dot{
    width:10px;height:10px;border-radius:999px;
    background: rgba(255,255,255,.25);
    border:1px solid rgba(255,255,255,.18);
    cursor:pointer;
    transition:.2s;
  }
  .dot.active{
    background: rgba(34,197,94,.95);
    border-color: rgba(34,197,94,.65);
  }

  /* CONTROLES */
  .controls{
    display:flex;gap:10px;flex-wrap:wrap;align-items:center;
    background: rgba(15,23,42,.75);
    border:1px solid rgba(255,255,255,.10);
    border-radius:18px;
    padding:12px;
  }
  .controls select{
    border:none;outline:none;
    padding:10px 12px;border-radius:14px;
    background:#0b1220;color:var(--text);
    border:1px solid rgba(255,255,255,.10);
    font-size:16px;
  }
  .hint{color:var(--muted);font-size:12px}

  /* PRODUTOS */
  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
    gap:14px;
  }
  .card{
    background: rgba(15,23,42,.78);
    border:1px solid rgba(255,255,255,.10);
    border-radius:18px;
    padding:14px;
    box-shadow:0 12px 26px rgba(0,0,0,.30);
    transition:.22s;
    animation: up .30s ease;
  }
  .card:hover{
    transform: translateY(-5px) scale(1.02);
    border-color: rgba(34,197,94,.35);
    box-shadow:0 18px 40px rgba(0,0,0,.45);
  }
  .meta{display:flex;justify-content:space-between;gap:10px;align-items:center;margin-bottom:10px}
  .chip{
    font-size:11px;color:#bbf7d0;
    background: rgba(34,197,94,.12);
    border:1px solid rgba(34,197,94,.18);
    padding:6px 10px;border-radius:999px;
  }
  .unit{
    font-size:11px;color:var(--muted);
    background: rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.10);
    padding:6px 10px;border-radius:999px;
  }
  .card h3{margin:0 0 8px;font-size:15px}
  .price{
    display:inline-block;
    font-weight:bold;
    background: rgba(34,197,94,.95);
    color:#022c22;
    padding:8px 12px;border-radius:14px;
  }
  .note{margin-top:10px;color:var(--muted);font-size:12px;line-height:1.35}

  /* INFO + PAGAMENTOS */
  .info{
    background: rgba(15,23,42,.75);
    border:1px solid rgba(255,255,255,.10);
    border-radius:18px;
    padding:14px;
  }
  .info h4{margin:0 0 10px}
  .paygrid{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));
    gap:12px;
    margin-top:10px;
  }
  .pay{
    background: rgba(2,44,34,.55);
    border:1px solid rgba(255,255,255,.10);
    border-radius:16px;
    padding:12px;
    text-align:center;
    transition:.2s;
  }
  .pay:hover{
    transform: translateY(-4px) scale(1.03);
    background: rgba(34,197,94,.18);
    border-color: rgba(34,197,94,.35);
  }

  /* MODAL carrinho */
  .modal{
    position:fixed;inset:0;
    background: rgba(0,0,0,.55);
    display:none;
    align-items:center;justify-content:center;
    z-index:200;
    padding:14px;
  }
  .modal.show{display:flex}
  .modal-card{
    width:min(720px, 100%);
    background: rgba(15,23,42,.92);
    border:1px solid rgba(255,255,255,.12);
    border-radius:18px;
    overflow:hidden;
    box-shadow:0 18px 50px rgba(0,0,0,.55);
    animation: up .25s ease;
  }
  .modal-head{
    display:flex;align-items:center;justify-content:space-between;
    padding:14px;
    background: linear-gradient(135deg, rgba(216,31,38,.25), rgba(34,197,94,.16));
    border-bottom:1px solid rgba(255,255,255,.10);
  }
  .modal-head b{font-size:14px}
  .close{
    width:40px;height:40px;border-radius:14px;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.30);
    color:#fff;cursor:pointer;
  }
  .modal-body{padding:14px;color:var(--muted);line-height:1.6}
  .modal-body ul{margin:10px 0 0;padding-left:18px}
  .modal-foot{
    padding:14px;
    border-top:1px solid rgba(255,255,255,.10);
    display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;
  }
  .btn{
    border:none;
    background:#111827;
    color:#fff;
    padding:10px 12px;border-radius:14px;
    cursor:pointer;
    border:1px solid rgba(255,255,255,.12);
    font-size:16px;
  }
  .btn.green{
    background: rgba(34,197,94,.95);
    color:#022c22;
    border-color: rgba(34,197,94,.55);
    font-weight:bold;
  }

  /* WHATS flutuante */
  .whatsapp{
    position:fixed;
    right:18px;bottom:18px;
    background: var(--green);
    color:#022c22;
    padding:14px 18px;
    border-radius:18px;
    text-decoration:none;
    font-weight:bold;
    box-shadow:0 16px 34px rgba(0,0,0,.45);
    animation: float 2.6s ease-in-out infinite;
    z-index:120;
  }

  footer{padding:26px 0 50px;color:var(--muted);font-size:12px;text-align:center}

  /* ====== MOBILE FIRST EXTRA (sidebar drawer + menus rolÃ¡veis + cards) ====== */
  .hamb, .mobile-actions, .side-backdrop{ display:none; }

  @media (max-width: 980px){
    .brand{min-width:auto}
    .top-actions{display:none}
    .main{grid-template-columns: 1fr}

    /* topo em 2 linhas */
    .top-row{flex-wrap:wrap; gap:10px; padding:10px 0}
    .brand{width:100%}
    .logo{width:46px;height:46px}

    .search{width:100%; flex: 0 0 100%; gap:8px}
    .search input{padding:12px;border-radius:14px}
    .search button{padding:12px 14px;border-radius:14px}

    /* actions mobile */
    .mobile-actions{
      display:flex;
      width:100%;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    .hamb{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.25);
      color:#fff;
      cursor:pointer;
      user-select:none;
    }
    .hamb .ic{
      width:34px;height:34px;border-radius:12px;
      display:grid;place-items:center;
      background: rgba(34,197,94,.22);
      border:1px solid rgba(255,255,255,.14);
      font-size:18px;
    }

    /* menu departamentos vira faixa rolÃ¡vel */
    .menu-row{
      flex-wrap:nowrap;
      overflow:auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width:none;
    }
    .menu-row::-webkit-scrollbar{display:none}
    .dept{flex:0 0 auto}

    /* submenu rolÃ¡vel */
    .subrow{
      flex-wrap:nowrap;
      overflow:auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width:none;
    }
    .subrow::-webkit-scrollbar{display:none}
    .sub{flex:0 0 auto}

    /* sidebar off-canvas */
    .sidebar{
      position:fixed;
      top:0; left:0;
      height:100dvh;
      width:min(360px, 88vw);
      z-index:260;
      transform:translateX(-110%);
      transition: transform .25s ease;
      border-radius:0 18px 18px 0;
      box-shadow: 20px 0 60px rgba(0,0,0,.55);
    }
    .sidebar.open{ transform:translateX(0) }

    .side-backdrop{
      display:none;
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      z-index:250;
    }
    .side-backdrop.show{ display:block; }

    /* carrossel mais compacto */
    .carousel{min-height:160px}
    .slide .inner{
      flex-direction:column;
      align-items:flex-start;
      gap:12px;
      min-height:150px;
    }
    .slide h2{font-size:18px}
    .slide p{font-size:12px}

    /* cards 2 colunas */
    .grid{
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:12px;
    }

    /* botÃµes do card empilhados */
    .card .btn{width:100%; min-width:0 !important}
    .card > div:last-child{flex-direction:column}

    /* whatsapp menor */
    .whatsapp{
      right:12px; bottom:12px;
      padding:12px 14px;
      border-radius:16px;
    }
  }

  @media (max-width: 420px){
    .grid{grid-template-columns:1fr}
  }
</style>
</head>
<body>

<!-- TOPO -->
<div class="topbar">
  <div class="wrap">
    <div class="top-row">
      <div class="brand">
        <svg class="logo" viewBox="0 0 200 200" aria-label="Logo Mercadinho EsperanÃ§a">
          <defs>
            <radialGradient id="g" cx="30%" cy="30%" r="70%">
              <stop offset="0%" stop-color="#bbf7d0"/>
              <stop offset="100%" stop-color="#16a34a"/>
            </radialGradient>
          </defs>
          <circle cx="100" cy="100" r="96" fill="url(#g)"/>
          <circle cx="100" cy="100" r="86" fill="#052e16"/>
          <rect x="25" y="92" width="150" height="52" rx="22" fill="#16a34a"/>
          <text x="100" y="70" text-anchor="middle" font-size="22" fill="#ecfdf5" font-weight="bold">MERCADINHO</text>
          <text x="100" y="126" text-anchor="middle" font-size="26" fill="#052e16" font-weight="bold">ESPERANÃ‡A</text>
        </svg>
        <div>
          <h1>Mercadinho EsperanÃ§a</h1>
          <small>Produtos â€¢ preÃ§os â€¢ atendimento rÃ¡pido</small>
        </div>
      </div>

      <div class="search">
        <input id="search" placeholder="Digite aqui: carne, banana, biscoito, detergente..." />
        <button id="btnSearch">BUSCAR</button>
      </div>

      <!-- AÃ‡Ã•ES MOBILE (aparece sÃ³ no celular) -->
      <div class="mobile-actions">
        <div class="hamb" id="hambBtn" aria-label="Abrir navegaÃ§Ã£o">
          <div class="ic">â˜°</div>
          <div style="font-weight:bold;font-size:12px;line-height:1.1">
            Menu<br><span style="font-weight:normal;opacity:.9;font-size:11px">Categorias</span>
          </div>
        </div>

        <div class="cart" id="cartBtnMobile" title="Carrinho (visual)">
          <div class="cart-ic">ğŸ›’</div>
          <div style="font-weight:bold;font-size:12px;">Carrinho</div>
          <div class="badge" id="cartCountMobile">0</div>
        </div>
      </div>

      <div class="top-actions">
        <div class="pill">
          <span>ğŸ•’</span>
          <div>
            <div id="status" class="status">Verificandoâ€¦</div>
            <div class="tiny">Seg: 07â€“12 â€¢ Terâ€“SÃ¡b: 07â€“19 â€¢ Dom: 07â€“12</div>
          </div>
        </div>

        <!-- CARRINHO VISUAL -->
        <div class="cart" id="cartBtn" title="Carrinho (visual)">
          <div class="cart-ic">ğŸ›’</div>
          <div>
            <div style="font-weight:bold;font-size:12px;">Carrinho</div>
            <div class="tiny">Visual / demonstraÃ§Ã£o</div>
          </div>
          <div class="badge" id="cartCount">0</div>
        </div>
      </div>
    </div>
  </div>

  <!-- MENU DEPARTAMENTOS -->
  <div class="menu">
    <div class="wrap">
      <div class="menu-row" id="deptRow"></div>
      <div class="submenu" id="submenu">
        <div class="subrow" id="subRow"></div>
      </div>
    </div>
  </div>
</div>

<div class="wrap">
  <div class="main">

    <!-- Backdrop da sidebar (mobile) -->
    <div class="side-backdrop" id="sideBackdrop"></div>

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="side-header">NavegaÃ§Ã£o rÃ¡pida</div>

      <div class="side-block">
        <div class="side-title">Listas prontas</div>
        <div class="side-item" id="goAll">
          <div class="side-ic">ğŸ›’</div>
          <div><b>Todos os produtos</b><small>Ver lista completa</small></div>
        </div>
        <div class="side-item" id="goBasics">
          <div class="side-ic">ğŸ§º</div>
          <div><b>BÃ¡sicos do dia a dia</b><small>Arroz, feijÃ£o, Ã³leo, cafÃ©â€¦</small></div>
        </div>
        <div class="side-item" id="goMeat">
          <div class="side-ic">ğŸ¥©</div>
          <div><b>AÃ§ougue</b><small>VÃ¡rias carnes (kg)</small></div>
        </div>
        <div class="side-item" id="goHorti">
          <div class="side-ic">ğŸ¥¬</div>
          <div><b>Hortifruti</b><small>Frutas e verduras</small></div>
        </div>
      </div>

      <div class="side-block">
        <div class="side-title">ServiÃ§os</div>
        <div class="side-item" id="goPay">
          <div class="side-ic">ğŸ’³</div>
          <div><b>Formas de pagamento</b><small>Pix â€¢ cartÃµes â€¢ dinheiro</small></div>
        </div>
        <div class="side-item" id="goInfo">
          <div class="side-ic">ğŸ“</div>
          <div><b>InformaÃ§Ãµes</b><small>HorÃ¡rio e contato</small></div>
        </div>
        <div class="side-item" onclick="window.open('https://wa.me/558183173613','_blank')">
          <div class="side-ic">ğŸ’¬</div>
          <div><b>Chamar no WhatsApp</b><small>Atendimento rÃ¡pido</small></div>
        </div>
      </div>
    </aside>

    <!-- CONTEÃšDO -->
    <section class="content">

      <!-- CARROSSEL -->
      <div class="carousel" id="carousel">
        <div class="slides" id="slides">
          <div class="slide">
            <div class="inner">
              <div>
                <div class="tag">Mercadinho EsperanÃ§a</div>
                <h2>Variedade para o dia a dia</h2>
                <p>Alimentos, carnes, hortifruti, bebidas, limpeza e higiene â€” tudo organizado por departamentos.</p>
                <div class="cta" onclick="window.scrollTo({top:320,behavior:'smooth'})">ğŸ” Ver produtos</div>
              </div>
              <div style="text-align:right">
                <div class="tag green">Atendimento</div>
                <h2 style="margin-top:10px">WhatsApp</h2>
                <p>(81) 8317-3613</p>
                <div class="cta" onclick="window.open('https://wa.me/558183173613','_blank')">ğŸ’¬ Abrir WhatsApp</div>
              </div>
            </div>
          </div>

          <div class="slide">
            <div class="inner">
              <div>
                <div class="tag">Interface estilo grande mercado</div>
                <h2>Menu com submenu + busca rÃ¡pida</h2>
                <p>Clique em um departamento e depois em uma subcategoria para filtrar melhor.</p>
                <div class="cta" onclick="document.getElementById('deptRow').scrollIntoView({behavior:'smooth'})">ğŸ§­ Escolher departamento</div>
              </div>
              <div style="text-align:right">
                <div class="tag green">Dica</div>
                <h2 style="margin-top:10px">Use â€œEnterâ€</h2>
                <p>Digite e aperte Enter para buscar.</p>
              </div>
            </div>
          </div>

          <div class="slide">
            <div class="inner">
              <div>
                <div class="tag">HorÃ¡rio</div>
                <h2>Aberto/Fechado automÃ¡tico</h2>
                <p>Seg: 07â€“12 â€¢ Terâ€“SÃ¡b: 07â€“19 â€¢ Dom: 07â€“12</p>
                <div class="cta" onclick="document.getElementById('infoBox').scrollIntoView({behavior:'smooth'})">ğŸ“ Ver informaÃ§Ãµes</div>
              </div>
              <div style="text-align:right">
                <div class="tag green">Pagamento</div>
                <h2 style="margin-top:10px">Pix e CartÃµes</h2>
                <p>Dinheiro â€¢ CrÃ©dito â€¢ DÃ©bito â€¢ Pix â€¢ Vale</p>
                <div class="cta" onclick="document.getElementById('payBox').scrollIntoView({behavior:'smooth'})">ğŸ’³ Ver pagamentos</div>
              </div>
            </div>
          </div>
        </div>

        <div class="nav">
          <button id="prev" aria-label="Anterior">â€¹</button>
          <button id="next" aria-label="PrÃ³ximo">â€º</button>
        </div>

        <div class="dots" id="dots"></div>
      </div>

      <!-- CONTROLES -->
      <div class="controls">
        <label class="hint"><b>Ordenar:</b></label>
        <select id="order">
          <option value="relevancia">RelevÃ¢ncia</option>
          <option value="menor">Menor preÃ§o</option>
          <option value="maior">Maior preÃ§o</option>
          <option value="az">Nome (Aâ€“Z)</option>
        </select>
        <span class="hint">Sem promoÃ§Ãµes da semana â€¢ PreÃ§os sujeitos a alteraÃ§Ã£o</span>
      </div>

      <!-- PRODUTOS -->
      <div class="grid" id="grid"></div>

      <!-- PAGAMENTOS -->
      <div class="info" id="payBox">
        <h4>ğŸ’³ Formas de Pagamento</h4>
        <div class="paygrid">
          <div class="pay">ğŸ’°<br><b>Dinheiro</b></div>
          <div class="pay">ğŸ’³<br><b>CrÃ©dito</b></div>
          <div class="pay">ğŸ’³<br><b>DÃ©bito</b></div>
          <div class="pay">ğŸ“±<br><b>Pix</b></div>
          <div class="pay">ğŸ§¾<br><b>Vale AlimentaÃ§Ã£o</b></div>
        </div>
      </div>

      <!-- INFORMAÃ‡Ã•ES -->
      <div class="info" id="infoBox">
        <h4>ğŸ“ InformaÃ§Ãµes</h4>
        <div style="color:var(--muted);line-height:1.6">
          <b>HorÃ¡rio:</b><br>
          Segunda: 07h Ã s 12h<br>
          TerÃ§a a SÃ¡bado: 07h Ã s 19h<br>
          Domingo: 07h Ã s 12h<br><br>
          <b>WhatsApp:</b> (81) 8317-3613
        </div>
      </div>

    </section>
  </div>

  <footer>Mercadinho EsperanÃ§a â€¢ Layout estilo grande varejo â€¢ Produtos organizados por categoria</footer>
</div>

<!-- MODAL CARRINHO (VISUAL) -->
<div class="modal" id="cartModal" aria-hidden="true">
  <div class="modal-card">
    <div class="modal-head">
      <b>ğŸ›’ Carrinho (visual)</b>
      <button class="close" id="closeCart" aria-label="Fechar">âœ•</button>
    </div>
    <div class="modal-body">
      Este carrinho Ã© <b>visual/demonstraÃ§Ã£o</b> para parecer com grandes supermercados.
      <br>VocÃª pode clicar em â€œAdicionarâ€ em alguns produtos para ver o nÃºmero subir.
      <ul>
        <li>NÃ£o finaliza compra de verdade</li>
        <li>Serve sÃ³ para visual do site</li>
      </ul>
    </div>
    <div class="modal-foot">
      <button class="btn" id="clearCart">Zerar</button>
      <button class="btn green" id="goWhatsapp">Falar no WhatsApp</button>
    </div>
  </div>
</div>

<a class="whatsapp" href="https://wa.me/558183173613" target="_blank">ğŸ’¬ WhatsApp</a>

<script>
/* ===== HORÃRIO ABERTO/FECHADO ===== */
function verificarHorario(){
  const d=new Date(), dia=d.getDay(), h=d.getHours()+d.getMinutes()/60;
  let aberto=false;
  if(dia===1) aberto=h>=7 && h<12;                 // segunda
  else if(dia>=2 && dia<=6) aberto=h>=7 && h<19;   // terÃ§a-sÃ¡bado
  else if(dia===0) aberto=h>=7 && h<12;            // domingo

  const el=document.getElementById("status");
  el.textContent = aberto ? "ğŸŸ¢ ABERTO AGORA" : "ğŸ”´ FECHADO AGORA";
  el.className = "status " + (aberto ? "open" : "closed");
}
verificarHorario();
setInterval(verificarHorario,60000);

/* ===== DEPARTAMENTOS + SUBMENU ===== */
const departamentos = [
  {key:"Todos", icon:"ğŸ›’", subs:["Tudo"]},
  {key:"BÃ¡sicos", icon:"ğŸ§º", subs:["Arroz","FeijÃ£o","Ã“leo","CafÃ©","AÃ§Ãºcar","Sal","Farinha","Leite","Ovos"]},
  {key:"Mercearia", icon:"ğŸª", subs:["Biscoitos","Enlatados","Massas","Molhos","Temperos","Doces"]},
  {key:"Frios & LaticÃ­nios", icon:"ğŸ§€", subs:["Queijos","Presunto","Mortadela","Iogurte","Manteiga","RequeijÃ£o"]},
  {key:"AÃ§ougue", icon:"ğŸ¥©", subs:["Bovina","Frango","SuÃ­na","LinguiÃ§as","Peixes"]},
  {key:"Hortifruti", icon:"ğŸ¥¬", subs:["Frutas","Verduras","Legumes","Temperos"]},
  {key:"Bebidas", icon:"ğŸ¥¤", subs:["Ãgua","Refrigerantes","Sucos","Cervejas","EnergÃ©ticos"]},
  {key:"Limpeza", icon:"ğŸ§¼", subs:["Lavanderia","Cozinha","Casa","Sacos de lixo"]},
  {key:"Higiene & Cuidados", icon:"ğŸª¥", subs:["Banho","Cabelo","Dental","Papel","Feminino"]},
];

/* ===== PRODUTOS (TUDO QUE VOCÃŠ PEDIU + MAIS) ===== */
const produtos = [
  // BÃSICOS
  {nome:"Arroz 5kg", preco:25.00, cat:"BÃ¡sicos", sub:"Arroz", un:"pacote"},
  {nome:"Arroz 1kg", preco:5.80, cat:"BÃ¡sicos", sub:"Arroz", un:"pacote"},
  {nome:"Arroz parboilizado 1kg", preco:6.40, cat:"BÃ¡sicos", sub:"Arroz", un:"pacote"},
  {nome:"FeijÃ£o Carioca 1kg", preco:8.50, cat:"BÃ¡sicos", sub:"FeijÃ£o", un:"pacote"},
  {nome:"FeijÃ£o Preto 1kg", preco:9.20, cat:"BÃ¡sicos", sub:"FeijÃ£o", un:"pacote"},
  {nome:"AÃ§Ãºcar 1kg", preco:4.20, cat:"BÃ¡sicos", sub:"AÃ§Ãºcar", un:"pacote"},
  {nome:"Sal 1kg", preco:2.00, cat:"BÃ¡sicos", sub:"Sal", un:"pacote"},
  {nome:"Ã“leo de Soja 900ml", preco:6.90, cat:"BÃ¡sicos", sub:"Ã“leo", un:"unid."},
  {nome:"CafÃ© 500g", preco:14.90, cat:"BÃ¡sicos", sub:"CafÃ©", un:"pacote"},
  {nome:"Leite 1L", preco:4.70, cat:"BÃ¡sicos", sub:"Leite", un:"unid."},
  {nome:"Ovos (dÃºzia)", preco:11.90, cat:"BÃ¡sicos", sub:"Ovos", un:"dÃºzia"},
  {nome:"Farinha de Trigo 1kg", preco:4.80, cat:"BÃ¡sicos", sub:"Farinha", un:"pacote"},
  {nome:"Farinha de Milho (flocÃ£o) 500g", preco:3.60, cat:"BÃ¡sicos", sub:"Farinha", un:"pacote"},
  {nome:"Cuscuz (flocÃ£o) 500g", preco:3.60, cat:"BÃ¡sicos", sub:"Farinha", un:"pacote"},

  // MERCEARIA (biscoitos etc.)
  {nome:"Biscoito Cream Cracker", preco:4.50, cat:"Mercearia", sub:"Biscoitos", un:"pacote"},
  {nome:"Biscoito Recheado", preco:3.90, cat:"Mercearia", sub:"Biscoitos", un:"pacote"},
  {nome:"MacarrÃ£o Espaguete 500g", preco:3.80, cat:"Mercearia", sub:"Massas", un:"pacote"},
  {nome:"MacarrÃ£o Parafuso 500g", preco:4.10, cat:"Mercearia", sub:"Massas", un:"pacote"},
  {nome:"MacarrÃ£o instantÃ¢neo", preco:2.50, cat:"Mercearia", sub:"Massas", un:"unid."},
  {nome:"Extrato de Tomate", preco:3.50, cat:"Mercearia", sub:"Molhos", un:"unid."},
  {nome:"Molho de Tomate", preco:2.90, cat:"Mercearia", sub:"Molhos", un:"unid."},
  {nome:"Milho Verde (lata)", preco:4.20, cat:"Mercearia", sub:"Enlatados", un:"lata"},
  {nome:"Ervilha (lata)", preco:4.10, cat:"Mercearia", sub:"Enlatados", un:"lata"},
  {nome:"Sardinha (lata)", preco:6.50, cat:"Mercearia", sub:"Enlatados", un:"lata"},
  {nome:"Atum (lata)", preco:7.90, cat:"Mercearia", sub:"Enlatados", un:"lata"},
  {nome:"Achocolatado", preco:6.80, cat:"Mercearia", sub:"Doces", un:"unid."},
  {nome:"Chocolate (barra)", preco:6.50, cat:"Mercearia", sub:"Doces", un:"unid."},
  {nome:"Gelatina", preco:2.20, cat:"Mercearia", sub:"Doces", un:"unid."},
  {nome:"AdoÃ§ante", preco:6.90, cat:"Mercearia", sub:"Doces", un:"unid."},
  {nome:"Margarina", preco:5.50, cat:"Mercearia", sub:"Temperos", un:"unid."},
  {nome:"Maionese", preco:6.20, cat:"Mercearia", sub:"Temperos", un:"unid."},
  {nome:"Ketchup", preco:6.00, cat:"Mercearia", sub:"Temperos", un:"unid."},
  {nome:"Mostarda", preco:5.80, cat:"Mercearia", sub:"Temperos", un:"unid."},
  {nome:"Tempero completo", preco:3.50, cat:"Mercearia", sub:"Temperos", un:"unid."},
  {nome:"Caldo de galinha", preco:2.50, cat:"Mercearia", sub:"Temperos", un:"cx"},
  {nome:"Pipoca (milho) 500g", preco:4.20, cat:"Mercearia", sub:"Doces", un:"pacote"},
  {nome:"Fermento quÃ­mico", preco:4.90, cat:"Mercearia", sub:"Doces", un:"unid."},
  {nome:"Canjica", preco:5.50, cat:"Mercearia", sub:"Doces", un:"pacote"},
  {nome:"Arroz doce (mistura)", preco:4.90, cat:"Mercearia", sub:"Doces", un:"pacote"},
  {nome:"PÃ£o de forma", preco:7.50, cat:"Mercearia", sub:"Biscoitos", un:"pacote"},
  {nome:"Bolo pronto", preco:6.90, cat:"Mercearia", sub:"Doces", un:"unid."},

  // FRIOS & LATICÃNIOS
  {nome:"Mortadela (kg)", preco:12.90, cat:"Frios & LaticÃ­nios", sub:"Mortadela", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Presunto (kg)", preco:28.90, cat:"Frios & LaticÃ­nios", sub:"Presunto", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Queijo Mussarela (kg)", preco:39.90, cat:"Frios & LaticÃ­nios", sub:"Queijos", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Queijo Prato (kg)", preco:42.90, cat:"Frios & LaticÃ­nios", sub:"Queijos", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Queijo Coalho (kg)", preco:44.90, cat:"Frios & LaticÃ­nios", sub:"Queijos", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Iogurte (unidade)", preco:3.50, cat:"Frios & LaticÃ­nios", sub:"Iogurte", un:"unid."},
  {nome:"Manteiga", preco:9.90, cat:"Frios & LaticÃ­nios", sub:"Manteiga", un:"unid."},
  {nome:"RequeijÃ£o", preco:8.90, cat:"Frios & LaticÃ­nios", sub:"RequeijÃ£o", un:"unid."},
  {nome:"Creme de leite", preco:4.80, cat:"Frios & LaticÃ­nios", sub:"Iogurte", un:"unid."},
  {nome:"Leite condensado", preco:6.90, cat:"Frios & LaticÃ­nios", sub:"Iogurte", un:"unid."},
  {nome:"Salsicha (pacote)", preco:9.90, cat:"Frios & LaticÃ­nios", sub:"Presunto", un:"pacote"},

  // AÃ‡OUGUE
  {nome:"Carne Bovina 1Âª (kg)", preco:39.90, cat:"AÃ§ougue", sub:"Bovina", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Carne Bovina 2Âª (kg)", preco:32.90, cat:"AÃ§ougue", sub:"Bovina", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"AcÃ©m (kg)", preco:29.90, cat:"AÃ§ougue", sub:"Bovina", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Patinho (kg)", preco:36.90, cat:"AÃ§ougue", sub:"Bovina", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Costela Bovina (kg)", preco:27.90, cat:"AÃ§ougue", sub:"Bovina", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Carne moÃ­da (kg)", preco:33.90, cat:"AÃ§ougue", sub:"Bovina", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"FÃ­gado bovino (kg)", preco:17.90, cat:"AÃ§ougue", sub:"Bovina", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Frango inteiro (kg)", preco:12.90, cat:"AÃ§ougue", sub:"Frango", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Peito de frango (kg)", preco:18.90, cat:"AÃ§ougue", sub:"Frango", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Coxa e sobrecoxa (kg)", preco:14.90, cat:"AÃ§ougue", sub:"Frango", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Asa de frango (kg)", preco:15.90, cat:"AÃ§ougue", sub:"Frango", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"LinguiÃ§a Toscana (kg)", preco:19.90, cat:"AÃ§ougue", sub:"LinguiÃ§as", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"LinguiÃ§a Calabresa (kg)", preco:23.90, cat:"AÃ§ougue", sub:"LinguiÃ§as", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Carne suÃ­na (kg)", preco:22.90, cat:"AÃ§ougue", sub:"SuÃ­na", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Costela suÃ­na (kg)", preco:24.90, cat:"AÃ§ougue", sub:"SuÃ­na", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Bisteca suÃ­na (kg)", preco:23.90, cat:"AÃ§ougue", sub:"SuÃ­na", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Bacon (kg)", preco:34.90, cat:"AÃ§ougue", sub:"SuÃ­na", un:"kg", obs:"PreÃ§o por kg"},
  {nome:"Peixe (kg)", preco:29.90, cat:"AÃ§ougue", sub:"Peixes", un:"kg", obs:"PreÃ§o por kg"},

  // HORTIFRUTI
  {nome:"Banana (kg)", preco:4.60, cat:"Hortifruti", sub:"Frutas", un:"kg"},
  {nome:"MaÃ§Ã£ (kg)", preco:6.20, cat:"Hortifruti", sub:"Frutas", un:"kg"},
  {nome:"Laranja (kg)", preco:3.90, cat:"Hortifruti", sub:"Frutas", un:"kg"},
  {nome:"MamÃ£o (unidade)", preco:6.00, cat:"Hortifruti", sub:"Frutas", un:"unid."},
  {nome:"Uva (bandeja)", preco:8.90, cat:"Hortifruti", sub:"Frutas", un:"bandeja"},
  {nome:"LimÃ£o (kg)", preco:4.50, cat:"Hortifruti", sub:"Frutas", un:"kg"},
  {nome:"Tomate (kg)", preco:5.90, cat:"Hortifruti", sub:"Legumes", un:"kg"},
  {nome:"Batata (kg)", preco:4.30, cat:"Hortifruti", sub:"Legumes", un:"kg"},
  {nome:"Cebola (kg)", preco:4.80, cat:"Hortifruti", sub:"Legumes", un:"kg"},
  {nome:"Cenoura (kg)", preco:4.40, cat:"Hortifruti", sub:"Legumes", un:"kg"},
  {nome:"Beterraba (kg)", preco:4.90, cat:"Hortifruti", sub:"Legumes", un:"kg"},
  {nome:"Repolho (unidade)", preco:5.50, cat:"Hortifruti", sub:"Verduras", un:"unid."},
  {nome:"Alface (unidade)", preco:3.50, cat:"Hortifruti", sub:"Verduras", un:"unid."},
  {nome:"Coentro (maÃ§o)", preco:2.00, cat:"Hortifruti", sub:"Temperos", un:"maÃ§o"},
  {nome:"Cebolinha (maÃ§o)", preco:2.00, cat:"Hortifruti", sub:"Temperos", un:"maÃ§o"},
  {nome:"Alho (100g)", preco:3.50, cat:"Hortifruti", sub:"Temperos", un:"100g"},

  // BEBIDAS
  {nome:"Ãgua mineral 500ml", preco:2.50, cat:"Bebidas", sub:"Ãgua", un:"unid."},
  {nome:"Ãgua mineral 1,5L", preco:4.50, cat:"Bebidas", sub:"Ãgua", un:"unid."},
  {nome:"Refrigerante 2L", preco:7.99, cat:"Bebidas", sub:"Refrigerantes", un:"unid."},
  {nome:"Refrigerante 1L", preco:5.99, cat:"Bebidas", sub:"Refrigerantes", un:"unid."},
  {nome:"Refrigerante (lata)", preco:4.50, cat:"Bebidas", sub:"Refrigerantes", un:"unid."},
  {nome:"Suco 1L", preco:5.20, cat:"Bebidas", sub:"Sucos", un:"unid."},
  {nome:"Suco (caixinha)", preco:3.90, cat:"Bebidas", sub:"Sucos", un:"unid."},
  {nome:"Cerveja (lata)", preco:3.50, cat:"Bebidas", sub:"Cervejas", un:"unid."},
  {nome:"Cerveja 600ml", preco:7.90, cat:"Bebidas", sub:"Cervejas", un:"unid."},
  {nome:"EnergÃ©tico", preco:9.90, cat:"Bebidas", sub:"EnergÃ©ticos", un:"unid."},
  {nome:"ChÃ¡ gelado", preco:4.80, cat:"Bebidas", sub:"Sucos", un:"unid."},
  {nome:"Ãgua de coco", preco:6.50, cat:"Bebidas", sub:"Sucos", un:"unid."},

  // LIMPEZA
  {nome:"Detergente", preco:2.80, cat:"Limpeza", sub:"Cozinha", un:"unid."},
  {nome:"SabÃ£o em pÃ³", preco:12.90, cat:"Limpeza", sub:"Lavanderia", un:"unid."},
  {nome:"Ãgua sanitÃ¡ria", preco:3.40, cat:"Limpeza", sub:"Casa", un:"unid."},
  {nome:"Desinfetante", preco:4.90, cat:"Limpeza", sub:"Casa", un:"unid."},
  {nome:"Esponja", preco:1.80, cat:"Limpeza", sub:"Cozinha", un:"unid."},
  {nome:"Limpa vidro", preco:7.20, cat:"Limpeza", sub:"Casa", un:"unid."},
  {nome:"Pano de chÃ£o", preco:4.00, cat:"Limpeza", sub:"Casa", un:"unid."},
  {nome:"Saco de lixo 30L", preco:8.90, cat:"Limpeza", sub:"Sacos de lixo", un:"pacote"},
  {nome:"Saco de lixo 50L", preco:12.90, cat:"Limpeza", sub:"Sacos de lixo", un:"pacote"},
  {nome:"SabÃ£o em barra", preco:6.90, cat:"Limpeza", sub:"Lavanderia", un:"unid."},
  {nome:"Amaciante", preco:12.50, cat:"Limpeza", sub:"Lavanderia", un:"unid."},
  {nome:"Ãlcool 70%", preco:9.90, cat:"Limpeza", sub:"Casa", un:"unid."},
  {nome:"Lustra mÃ³veis", preco:10.90, cat:"Limpeza", sub:"Casa", un:"unid."},
  {nome:"Papel toalha", preco:7.50, cat:"Limpeza", sub:"Cozinha", un:"pacote"},

  // HIGIENE
  {nome:"Sabonete", preco:2.20, cat:"Higiene & Cuidados", sub:"Banho", un:"unid."},
  {nome:"Shampoo", preco:14.50, cat:"Higiene & Cuidados", sub:"Cabelo", un:"unid."},
  {nome:"Condicionador", preco:14.50, cat:"Higiene & Cuidados", sub:"Cabelo", un:"unid."},
  {nome:"Creme dental", preco:4.90, cat:"Higiene & Cuidados", sub:"Dental", un:"unid."},
  {nome:"Escova de dente", preco:5.50, cat:"Higiene & Cuidados", sub:"Dental", un:"unid."},
  {nome:"Fio dental", preco:6.90, cat:"Higiene & Cuidados", sub:"Dental", un:"unid."},
  {nome:"Papel higiÃªnico", preco:15.90, cat:"Higiene & Cuidados", sub:"Papel", un:"pacote"},
  {nome:"Papel lenÃ§o", preco:6.50, cat:"Higiene & Cuidados", sub:"Papel", un:"pacote"},
  {nome:"Desodorante", preco:11.90, cat:"Higiene & Cuidados", sub:"Banho", un:"unid."},
  {nome:"Absorvente", preco:9.90, cat:"Higiene & Cuidados", sub:"Feminino", un:"pacote"},
  {nome:"Sabonete lÃ­quido", preco:12.90, cat:"Higiene & Cuidados", sub:"Banho", un:"unid."},
];

/* ===== ELEMENTOS ===== */
const grid = document.getElementById("grid");
const deptRow = document.getElementById("deptRow");
const submenu = document.getElementById("submenu");
const subRow = document.getElementById("subRow");
const search = document.getElementById("search");
const btnSearch = document.getElementById("btnSearch");
const order = document.getElementById("order");

/* ===== FILTROS ===== */
let filtroDept = "Todos";
let filtroSub = "Tudo";

function renderDept(){
  deptRow.innerHTML="";
  departamentos.forEach(d=>{
    const el=document.createElement("div");
    el.className="dept"+(d.key===filtroDept?" active":"");
    el.innerHTML=`<div class="ic">${d.icon}</div><span>${d.key}</span>`;
    el.onclick=()=>{
      filtroDept=d.key;
      filtroSub="Tudo";
      renderDept();
      renderSubmenu();
      render();
      window.scrollTo({top:240,behavior:"smooth"});
    };
    deptRow.appendChild(el);
  });
}

function renderSubmenu(){
  const dept = departamentos.find(x=>x.key===filtroDept);
  if(!dept || dept.key==="Todos"){
    submenu.classList.remove("show");
    subRow.innerHTML="";
    return;
  }
  submenu.classList.add("show");
  subRow.innerHTML="";

  const all = ["Tudo", ...dept.subs];
  all.forEach(s=>{
    const el=document.createElement("div");
    el.className="sub"+(s===filtroSub?" active":"");
    el.textContent=s;
    el.onclick=()=>{
      filtroSub=s;
      renderSubmenu();
      render();
    };
    subRow.appendChild(el);
  });
}

function relScore(nome,q){
  if(!q) return 0;
  nome=nome.toLowerCase();
  if(nome===q) return 100;
  if(nome.startsWith(q)) return 60;
  if(nome.includes(q)) return 30;
  return 0;
}

function render(){
  const q=(search.value||"").trim().toLowerCase();

  let list = produtos.filter(p=>{
    const okDept = (filtroDept==="Todos") || (p.cat===filtroDept);
    const okSub  = (filtroDept==="Todos") || (filtroSub==="Tudo") || (p.sub===filtroSub);
    const okQ    = !q || p.nome.toLowerCase().includes(q) || p.cat.toLowerCase().includes(q) || (p.sub||"").toLowerCase().includes(q);
    return okDept && okSub && okQ;
  });

  if(order.value==="menor") list.sort((a,b)=>a.preco-b.preco);
  if(order.value==="maior") list.sort((a,b)=>b.preco-a.preco);
  if(order.value==="az") list.sort((a,b)=>a.nome.localeCompare(b.nome,"pt-BR"));
  if(order.value==="relevancia" && q) list.sort((a,b)=>relScore(b.nome,q)-relScore(a.nome,q));

  grid.innerHTML="";
  list.forEach((p,idx)=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <div class="meta">
        <span class="chip">${p.cat}${p.sub ? " â€¢ "+p.sub : ""}</span>
        <span class="unit">${p.un || "unid."}</span>
      </div>
      <h3>${p.nome}</h3>
      <div class="price">R$ ${Number(p.preco).toFixed(2)}</div>
      ${p.obs?`<div class="note">${p.obs}</div>`:""}
      <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn green" data-add="${idx}" style="flex:1;min-width:140px">Adicionar</button>
        <button class="btn" data-viewcart="1" style="min-width:140px">Ver carrinho</button>
      </div>
    `;
    grid.appendChild(card);
  });

  // bind botoes
  document.querySelectorAll("[data-add]").forEach(b=>{
    b.onclick=()=>{ addToCart(); };
  });
  document.querySelectorAll("[data-viewcart]").forEach(b=>{
    b.onclick=()=>openCart();
  });
}

/* ===== BUSCA / ORDENAR ===== */
btnSearch.onclick=render;
search.addEventListener("keydown",(e)=>{if(e.key==="Enter") render();});
order.onchange=render;

/* ===== SIDEBAR ===== */
document.getElementById("goAll").onclick=()=>{filtroDept="Todos";filtroSub="Tudo";renderDept();renderSubmenu();render();window.scrollTo({top:0,behavior:"smooth"});};
document.getElementById("goBasics").onclick=()=>{filtroDept="BÃ¡sicos";filtroSub="Tudo";renderDept();renderSubmenu();render();};
document.getElementById("goMeat").onclick=()=>{filtroDept="AÃ§ougue";filtroSub="Tudo";renderDept();renderSubmenu();render();};
document.getElementById("goHorti").onclick=()=>{filtroDept="Hortifruti";filtroSub="Tudo";renderDept();renderSubmenu();render();};
document.getElementById("goPay").onclick=()=>{document.getElementById("payBox").scrollIntoView({behavior:"smooth"});};
document.getElementById("goInfo").onclick=()=>{document.getElementById("infoBox").scrollIntoView({behavior:"smooth"});};

/* ===== CARRINHO (VISUAL) ===== */
let cartCount = 0;
const cartCountEl = document.getElementById("cartCount");
const cartBtn = document.getElementById("cartBtn");
const cartModal = document.getElementById("cartModal");
const closeCart = document.getElementById("closeCart");
const clearCart = document.getElementById("clearCart");
const goWhatsapp = document.getElementById("goWhatsapp");

function addToCart(){
  cartCount++;
  cartCountEl.textContent = cartCount;
  // animaÃ§Ã£o rÃ¡pida no badge
  cartCountEl.style.transform = "scale(1.2)";
  setTimeout(()=>cartCountEl.style.transform="scale(1)",120);
}
function openCart(){
  cartModal.classList.add("show");
  cartModal.setAttribute("aria-hidden","false");
}
function closeCartFn(){
  cartModal.classList.remove("show");
  cartModal.setAttribute("aria-hidden","true");
}
cartBtn.onclick=openCart;
closeCart.onclick=closeCartFn;
cartModal.onclick=(e)=>{ if(e.target===cartModal) closeCartFn(); };
clearCart.onclick=()=>{ cartCount=0; cartCountEl.textContent="0"; };
goWhatsapp.onclick=()=>window.open("https://wa.me/558183173613","_blank");

/* ===== CARROSSEL ===== */
const slidesEl = document.getElementById("slides");
const dotsEl = document.getElementById("dots");
const prev = document.getElementById("prev");
const next = document.getElementById("next");
const totalSlides = slidesEl.children.length;
let current = 0;
let timer = null;

function renderDots(){
  dotsEl.innerHTML="";
  for(let i=0;i<totalSlides;i++){
    const d=document.createElement("div");
    d.className="dot"+(i===current?" active":"");
    d.onclick=()=>{goTo(i,true);};
    dotsEl.appendChild(d);
  }
}
function goTo(i, reset=false){
  current = (i + totalSlides) % totalSlides;
  slidesEl.style.transform = `translateX(-${current*100}%)`;
  renderDots();
  if(reset) restartAuto();
}
function restartAuto(){
  if(timer) clearInterval(timer);
  timer = setInterval(()=>goTo(current+1,false), 4500);
}
prev.onclick=()=>goTo(current-1,true);
next.onclick=()=>goTo(current+1,true);

renderDots();
restartAuto();

/* ===== INIT ===== */
renderDept();
renderSubmenu();
render();

/* =========================================================
   MOBILE: SIDEBAR DRAWER + CART (SINCRONIZAÃ‡ÃƒO)
   ========================================================= */
const sidebar = document.querySelector(".sidebar");
const hambBtn = document.getElementById("hambBtn");
const sideBackdrop = document.getElementById("sideBackdrop");

function openSidebar(){
  if(!sidebar) return;
  sidebar.classList.add("open");
  sideBackdrop.classList.add("show");
  document.body.style.overflow = "hidden";
}
function closeSidebar(){
  if(!sidebar) return;
  sidebar.classList.remove("open");
  sideBackdrop.classList.remove("show");
  document.body.style.overflow = "";
}

if(hambBtn) hambBtn.onclick = openSidebar;
if(sideBackdrop) sideBackdrop.onclick = closeSidebar;

/* Fecha ao clicar em algum item da sidebar (mobile) */
document.querySelectorAll(".sidebar .side-item").forEach(el=>{
  el.addEventListener("click", ()=>{
    if(window.innerWidth <= 980) closeSidebar();
  });
});

/* Carrinho mobile */
const cartBtnMobile = document.getElementById("cartBtnMobile");
const cartCountMobile = document.getElementById("cartCountMobile");
if(cartBtnMobile) cartBtnMobile.onclick = openCart;

function syncCartBadges(){
  if(cartCountMobile) cartCountMobile.textContent = String(cartCount);
  if(cartCountEl) cartCountEl.textContent = String(cartCount);
}

/* Envolve addToCart e clearCart para sempre sincronizar */
const _oldAddToCart = addToCart;
addToCart = function(){
  _oldAddToCart();
  syncCartBadges();
};

const _oldClearHandler = clearCart.onclick;
clearCart.onclick = ()=>{
  cartCount = 0;
  syncCartBadges();
  // mantÃ©m a animaÃ§Ã£o/efeito original (se houver)
  if(typeof _oldClearHandler === "function") _oldClearHandler();
};

syncCartBadges();
</script>

</body>
</html>
